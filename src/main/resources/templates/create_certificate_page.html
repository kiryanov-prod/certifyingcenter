<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Создание сертификата</title>
    <link rel="icon" th:href="@{/img/mainicon/main.png}">
    <link rel="stylesheet" th:href="@{/styles/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/styles/create_certificate_page_style.css}">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="#"><i class="fas fa-plus-square"></i> Запрос на сертификат</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item">
                <a class="nav-link active" th:href="@{/home}"> <i class="fas fa-home"></i> Личный кабинет</a>
            </li>

            <li sec:authorize="hasRole('ADMIN')" class="nav-item">
                <a class="nav-link active" th:href="@{/admin/list_certificates}">
                    <i class="fas fa-user-lock text-muted"></i>
                    Панель администратора</a>
            </li>
        </ul>
        <div sec:authorize="isAuthenticated()" class="user-name-label-wrap text-muted mr-3">
            <span><i class="fas fa-user-tie"></i> <span th:text="${first_name}"></span></span>
        </div>
        <form class="form-inline my-2 my-lg-0 pr-4" th:method="POST" th:action="@{/logout}">
            <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Выйти</button>
        </form>

    </div>
</nav>


<div class="container-fluid mt-3">
    <div class="row justify-content-center">
        <div class="col-11 col-md-10 сol-md-9 col-xl-8">
            <form enctype="multipart/form-data" th:action="@{/create_certificate_send}" th:method="POST"
                  th:object="${certificateModel}">
                <div class="alert alert-danger text-center mb-1" role="alert">
                    Запрос на сертификат
                </div>

                <div class="row">

                    <div class="form-group col-6">
                        <label for="domainNameId">Доменное имя</label>
                        <input th:field="*{domainName}" type="text" class="form-control" id="domainNameId"
                               aria-describedby="domainNameHelp" placeholder="www.google.com">
                        <small id="domainNameHelp" class="form-text text-muted">Домен или субдомен, на который будет
                            установлен сертификат.</small>
                    </div>

                    <div class="form-group col-6">
                        <label for="organizationId">Организация</label>
                        <input th:field="*{organization}" type="text" class="form-control" id="organizationId"
                               aria-describedby="organizationHelp">
                        <small id="organizationHelp" class="form-text text-muted">Название компании или ФИО
                            человека, на которого оформляется сертификат.</small>
                    </div>

                    <div class="form-group col-6">
                        <label for="departmentId">Отдел</label>
                        <input th:field="*{department}" type="text" class="form-control" id="departmentId"
                               aria-describedby="departmentHelp">
                        <small id="departmentHelp" class="form-text text-muted">Отдел, который покупает сертификат.
                            Если вы не организация или у вас нет отдела, укажите IT.</small>
                    </div>

                    <div class="form-group col-6">
                        <label for="cityId">Город</label>
                        <input th:field="*{city}" type="text" class="form-control" id="cityId"
                               aria-describedby="cityHelp" placeholder="Moskva">
                        <small id="cityHelp" class="form-text text-muted">Город. Пример: Moskva</small>

                    </div>

                    <div class="form-group col-6">
                        <label for="regionId">Регион</label>
                        <input th:field="*{region}" type="text" class="form-control" id="regionId"
                               aria-describedby="regionHelp" placeholder="Moskovskaya Oblast">
                        <small id="regionHelp" class="form-text text-muted">Регион. Пример: Moskovskaya
                            Oblast</small>
                    </div>

                    <div class="form-group col-6">
                        <label for="countyId">Страна</label>
                        <select th:field="*{county}" class="form-control" id="countyId"
                                aria-describedby="countyHelp">
                            <option value="RU" selected="selected">RU Россия</option>
                            <option value="BY">BY Беларусь</option>
                            <option value="UA">UA Украина</option>
                            <option value="AF">AF Afghanistan</option>
                            <option value="AX">AX Aland Islands</option>
                            <option value="AL">AL Albania</option>
                            <option value="DZ">DZ Algeria</option>
                            <option value="AS">AS American Samoa</option>
                            <option value="AD">AD Andorra</option>
                            <option value="AO">AO Angola</option>
                            <option value="AI">AI Anguilla</option>
                            <option value="AQ">AQ Antarctica</option>
                            <option value="AG">AG Antigua And Barbuda</option>
                            <option value="AR">AR Argentina</option>
                            <option value="AM">AM Armenia</option>
                            <option value="AW">AW Aruba</option>
                            <option value="AU">AU Australia</option>
                            <option value="AT">AT Austria</option>
                            <option value="AZ">AZ Azerbaijan</option>
                            <option value="BS">BS Bahamas</option>
                            <option value="BH">BH Bahrain</option>
                            <option value="BD">BD Bangladesh</option>
                            <option value="BB">BB Barbados</option>
                            <option value="BE">BE Belgium</option>
                            <option value="BZ">BZ Belize</option>
                            <option value="BJ">BJ Benin</option>
                            <option value="BM">BM Bermuda</option>
                            <option value="BT">BT Bhutan</option>
                            <option value="BO">BO Bolivia</option>
                            <option value="BA">BA Bosnia And Herzegovina</option>
                            <option value="BW">BW Botswana</option>
                            <option value="BV">BV Bouvet Island</option>
                            <option value="BR">BR Brazil</option>
                            <option value="IO">IO British Indian Ocean Territory</option>
                            <option value="BN">BN Brunei Darussalam</option>
                            <option value="BG">BG Bulgaria</option>
                            <option value="BF">BF Burkina Faso</option>
                            <option value="BI">BI Burundi</option>
                            <option value="KH">KH Cambodia</option>
                            <option value="CM">CM Cameroon</option>
                            <option value="CA">CA Canada</option>
                            <option value="CV">CV Cape Verde</option>
                            <option value="KY">KY Cayman Islands</option>
                            <option value="CF">CF Central African Republic</option>
                            <option value="TD">TD Chad</option>
                            <option value="CL">CL Chile</option>
                            <option value="CN">CN China</option>
                            <option value="CX">CX Christmas Island</option>
                            <option value="CC">CC Cocos (Keeling) Islands</option>
                            <option value="CO">CO Colombia</option>
                            <option value="KM">KM Comoros</option>
                            <option value="CG">CG Congo</option>
                            <option value="CD">CD Congo, Democratic Republic</option>
                            <option value="CK">CK Cook Islands</option>
                            <option value="CR">CR Costa Rica</option>
                            <option value="CI">CI Cote D'Ivoire</option>
                            <option value="HR">HR Croatia</option>
                            <option value="CU">CU Cuba</option>
                            <option value="CW">CW Curacao</option>
                            <option value="CY">CY Cyprus</option>
                            <option value="CZ">CZ Czech Republic</option>
                            <option value="DK">DK Denmark</option>
                            <option value="DJ">DJ Djibouti</option>
                            <option value="DM">DM Dominica</option>
                            <option value="DO">DO Dominican Republic</option>
                            <option value="EC">EC Ecuador</option>
                            <option value="EG">EG Egypt</option>
                            <option value="SV">SV El Salvador</option>
                            <option value="GQ">GQ Equatorial Guinea</option>
                            <option value="ER">ER Eritrea</option>
                            <option value="EE">EE Estonia</option>
                            <option value="ET">ET Ethiopia</option>
                            <option value="FK">FK Falkland Islands (Malvinas)</option>
                            <option value="FO">FO Faroe Islands</option>
                            <option value="FJ">FJ Fiji</option>
                            <option value="FI">FI Finland</option>
                            <option value="FR">FR France</option>
                            <option value="GF">GF French Guiana</option>
                            <option value="PF">PF French Polynesia</option>
                            <option value="TF">TF French Southern Territories</option>
                            <option value="GA">GA Gabon</option>
                            <option value="GM">GM Gambia</option>
                            <option value="GE">GE Georgia</option>
                            <option value="DE">DE Germany</option>
                            <option value="GH">GH Ghana</option>
                            <option value="GI">GI Gibraltar</option>
                            <option value="GR">GR Greece</option>
                            <option value="GL">GL Greenland</option>
                            <option value="GD">GD Grenada</option>
                            <option value="GP">GP Guadeloupe</option>
                            <option value="GU">GU Guam</option>
                            <option value="GT">GT Guatemala</option>
                            <option value="GG">GG Guernsey</option>
                            <option value="GN">GN Guinea</option>
                            <option value="GW">GW Guinea-Bissau</option>
                            <option value="GY">GY Guyana</option>
                            <option value="HT">HT Haiti</option>
                            <option value="HM">HM Heard Island &amp; Mcdonald Islands</option>
                            <option value="VA">VA Holy See (Vatican City State)</option>
                            <option value="HN">HN Honduras</option>
                            <option value="HK">HK Hong Kong</option>
                            <option value="HU">HU Hungary</option>
                            <option value="IS">IS Iceland</option>
                            <option value="IN">IN India</option>
                            <option value="ID">ID Indonesia</option>
                            <option value="IR">IR Iran, Islamic Republic Of</option>
                            <option value="IQ">IQ Iraq</option>
                            <option value="IE">IE Ireland</option>
                            <option value="IM">IM Isle Of Man</option>
                            <option value="IL">IL Israel</option>
                            <option value="IT">IT Italy</option>
                            <option value="JM">JM Jamaica</option>
                            <option value="JP">JP Japan</option>
                            <option value="JE">JE Jersey</option>
                            <option value="JO">JO Jordan</option>
                            <option value="KZ">KZ Kazakhstan</option>
                            <option value="KE">KE Kenya</option>
                            <option value="KI">KI Kiribati</option>
                            <option value="KR">KR Korea</option>
                            <option value="KW">KW Kuwait</option>
                            <option value="KG">KG Kyrgyzstan</option>
                            <option value="LA">LA Lao People's Democratic Republic</option>
                            <option value="LV">LV Latvia</option>
                            <option value="LB">LB Lebanon</option>
                            <option value="LS">LS Lesotho</option>
                            <option value="LR">LR Liberia</option>
                            <option value="LY">LY Libyan Arab Jamahiriya</option>
                            <option value="LI">LI Liechtenstein</option>
                            <option value="LT">LT Lithuania</option>
                            <option value="LU">LU Luxembourg</option>
                            <option value="MO">MO Macao</option>
                            <option value="MK">MK Macedonia</option>
                            <option value="MG">MG Madagascar</option>
                            <option value="MW">MW Malawi</option>
                            <option value="MY">MY Malaysia</option>
                            <option value="MV">MV Maldives</option>
                            <option value="ML">ML Mali</option>
                            <option value="MT">MT Malta</option>
                            <option value="MH">MH Marshall Islands</option>
                            <option value="MQ">MQ Martinique</option>
                            <option value="MR">MR Mauritania</option>
                            <option value="MU">MU Mauritius</option>
                            <option value="YT">YT Mayotte</option>
                            <option value="MX">MX Mexico</option>
                            <option value="FM">FM Micronesia, Federated States Of</option>
                            <option value="MD">MD Moldova</option>
                            <option value="MC">MC Monaco</option>
                            <option value="MN">MN Mongolia</option>
                            <option value="ME">ME Montenegro</option>
                            <option value="MS">MS Montserrat</option>
                            <option value="MA">MA Morocco</option>
                            <option value="MZ">MZ Mozambique</option>
                            <option value="MM">MM Myanmar</option>
                            <option value="NA">NA Namibia</option>
                            <option value="NR">NR Nauru</option>
                            <option value="NP">NP Nepal</option>
                            <option value="NL">NL Netherlands</option>
                            <option value="AN">AN Netherlands Antilles</option>
                            <option value="NC">NC New Caledonia</option>
                            <option value="NZ">NZ New Zealand</option>
                            <option value="NI">NI Nicaragua</option>
                            <option value="NE">NE Niger</option>
                            <option value="NG">NG Nigeria</option>
                            <option value="NU">NU Niue</option>
                            <option value="NF">NF Norfolk Island</option>
                            <option value="MP">MP Northern Mariana Islands</option>
                            <option value="NO">NO Norway</option>
                            <option value="OM">OM Oman</option>
                            <option value="PK">PK Pakistan</option>
                            <option value="PW">PW Palau</option>
                            <option value="PS">PS Palestine, State of</option>
                            <option value="PA">PA Panama</option>
                            <option value="PG">PG Papua New Guinea</option>
                            <option value="PY">PY Paraguay</option>
                            <option value="PE">PE Peru</option>
                            <option value="PH">PH Philippines</option>
                            <option value="PN">PN Pitcairn</option>
                            <option value="PL">PL Poland</option>
                            <option value="PT">PT Portugal</option>
                            <option value="PR">PR Puerto Rico</option>
                            <option value="QA">QA Qatar</option>
                            <option value="RE">RE Reunion</option>
                            <option value="RO">RO Romania</option>
                            <option value="RW">RW Rwanda</option>
                            <option value="BL">BL Saint Barthelemy</option>
                            <option value="SH">SH Saint Helena</option>
                            <option value="KN">KN Saint Kitts And Nevis</option>
                            <option value="LC">LC Saint Lucia</option>
                            <option value="MF">MF Saint Martin</option>
                            <option value="PM">PM Saint Pierre And Miquelon</option>
                            <option value="VC">VC Saint Vincent And Grenadines</option>
                            <option value="WS">WS Samoa</option>
                            <option value="SM">SM San Marino</option>
                            <option value="ST">ST Sao Tome And Principe</option>
                            <option value="SA">SA Saudi Arabia</option>
                            <option value="SN">SN Senegal</option>
                            <option value="RS">RS Serbia</option>
                            <option value="SC">SC Seychelles</option>
                            <option value="SL">SL Sierra Leone</option>
                            <option value="SG">SG Singapore</option>
                            <option value="SK">SK Slovakia</option>
                            <option value="SI">SI Slovenia</option>
                            <option value="SB">SB Solomon Islands</option>
                            <option value="SO">SO Somalia</option>
                            <option value="ZA">ZA South Africa</option>
                            <option value="GS">GS South Georgia And Sandwich Isl.</option>
                            <option value="ES">ES Spain</option>
                            <option value="LK">LK Sri Lanka</option>
                            <option value="SD">SD Sudan</option>
                            <option value="SR">SR Suriname</option>
                            <option value="SJ">SJ Svalbard And Jan Mayen</option>
                            <option value="SZ">SZ Swaziland</option>
                            <option value="SE">SE Sweden</option>
                            <option value="CH">CH Switzerland</option>
                            <option value="SY">SY Syrian Arab Republic</option>
                            <option value="TW">TW Taiwan</option>
                            <option value="TJ">TJ Tajikistan</option>
                            <option value="TZ">TZ Tanzania</option>
                            <option value="TH">TH Thailand</option>
                            <option value="TL">TL Timor-Leste</option>
                            <option value="TG">TG Togo</option>
                            <option value="TK">TK Tokelau</option>
                            <option value="TO">TO Tonga</option>
                            <option value="TT">TT Trinidad And Tobago</option>
                            <option value="TN">TN Tunisia</option>
                            <option value="TR">TR Turkey</option>
                            <option value="TM">TM Turkmenistan</option>
                            <option value="TC">TC Turks And Caicos Islands</option>
                            <option value="TV">TV Tuvalu</option>
                            <option value="UG">UG Uganda</option>
                            <option value="AE">AE United Arab Emirates</option>
                            <option value="GB">GB United Kingdom</option>
                            <option value="US">US United States</option>
                            <option value="UM">UM United States Outlying Islands</option>
                            <option value="UY">UY Uruguay</option>
                            <option value="UZ">UZ Uzbekistan</option>
                            <option value="VU">VU Vanuatu</option>
                            <option value="VE">VE Venezuela</option>
                            <option value="VN">VN Viet Nam</option>
                            <option value="VG">VG Virgin Islands, British</option>
                            <option value="VI">VI Virgin Islands, U.S.</option>
                            <option value="WF">WF Wallis And Futuna</option>
                            <option value="EH">EH Western Sahara</option>
                            <option value="YE">YE Yemen</option>
                            <option value="ZM">ZM Zambia</option>
                            <option value="ZW">ZW Zimbabwe</option>
                        </select>
                        <small id="countyHelp" class="form-text text-muted">Страна в виде кода из двух символов. RU
                            для России</small>
                    </div>

                </div>
                <div class="form-group">
                    <label for="emailId">Email</label>
                    <input th:field="*{email}" type="text" class="form-control" id="emailId"
                           aria-describedby="emailHelp" placeholder="hello@yahoo.com">
                    <small id="emailHelp" class="form-text text-muted">Электронная почта административного
                        контакта</small>
                 </div>
                <div class="form-group">
                    <label for="inputPublicKeyID">Прикрепите публичный ключ (в формате DER)</label>

                    <input th:name="multipartFile" type="file" class="form-control-file" id="inputPublicKeyID" accept=".der">
                    <div class="mt-3 border rounded p-3 " style="font-size: 14px;">
                        <p class="text-muted font-italic m-0"># Генерация приватного ключа с именем private_key.pem
                        </p>
                        <p class="m-0">$ openssl genrsa -out private_key.pem 2048
                        </p>
                        <p class="text-muted font-italic m-0 mt-1"># Конвертирование приватного ключа в формат PKCS#8
                        </p>
                        <p class="m-0">$ openssl pkcs8 -topk8 -inform PEM -outform DER -in private_key.pem -out private_key.der -nocrypt
                        </p>
                        <p class="text-muted font-italic m-0 mt-1"># Вывод части публичного ключа в формате DER
                        </p>
                        <p class="m-0">$ openssl rsa -in private_key.pem -pubout -outform DER -out public_key.der
                        </p>
                    </div>
                </div>
                <div class="form-group mt-2">
                    <div class="row justify-content-center">
                        <button type="submit" class="btn btn-primary" id="submit_form_reg">Отправить запрос</button>
                    </div>
                </div>

            </form>
        </div>
    </div>
</div>

<script th:src="@{/scripts/jquery-3.5.1.min.js}"></script>
<script th:src="@{/scripts/bootstrap.min.js}"></script>

</body>
</html>